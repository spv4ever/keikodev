(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[509],{84959:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/protected",function(){return t(38886)}])},38886:function(e,n,t){"use strict";t.r(n),t.d(n,{Fragment_1762bb90abdb81b879b2a22edbbe01a1:function(){return Fragment_1762bb90abdb81b879b2a22edbbe01a1},Fragment_dc90aeae9c329bc93915f98fd278b93c:function(){return Fragment_dc90aeae9c329bc93915f98fd278b93c},default:function(){return Component}});var o=t(35944),l=t(67294),r=t(60687),i=t(6608),c=t(50569),d=t(6445),u=t(73954);function useLoadGsiScript(e={}){let{nonce:n,onScriptLoadSuccess:t,onScriptLoadError:o}=e,[r,i]=(0,l.useState)(!1),c=(0,l.useRef)(t);c.current=t;let d=(0,l.useRef)(o);return d.current=o,(0,l.useEffect)(()=>{let e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=n,e.onload=()=>{var e;i(!0),null===(e=c.current)||void 0===e||e.call(c)},e.onerror=()=>{var e;i(!1),null===(e=d.current)||void 0===e||e.call(d)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[n]),r}let a=(0,l.createContext)(null);function GoogleOAuthProvider({clientId:e,nonce:n,onScriptLoadSuccess:t,onScriptLoadError:o,children:r}){let i=useLoadGsiScript({nonce:n,onScriptLoadSuccess:t,onScriptLoadError:o}),c=(0,l.useMemo)(()=>({clientId:e,scriptLoadedSuccessfully:i}),[e,i]);return l.createElement(a.Provider,{value:c},r)}function useGoogleOAuth(){let e=(0,l.useContext)(a);if(!e)throw Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function extractClientId(e){var n;let t=null!==(n=null==e?void 0:e.clientId)&&void 0!==n?n:null==e?void 0:e.client_id;return t}let s={large:40,medium:32,small:20};function GoogleLogin({onSuccess:e,onError:n,useOneTap:t,promptMomentNotification:o,type:r="standard",theme:i="outline",size:c="large",text:d,shape:u,logo_alignment:a,width:g,locale:f,click_listener:v,containerProps:h,...m}){let b=(0,l.useRef)(null),{clientId:p,scriptLoadedSuccessfully:_}=useGoogleOAuth(),F=(0,l.useRef)(e);F.current=e;let w=(0,l.useRef)(n);w.current=n;let Z=(0,l.useRef)(o);return Z.current=o,(0,l.useEffect)(()=>{var e,n,o,l,s,h,x,C,k;if(_)return null===(o=null===(n=null===(e=null==window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===n?void 0:n.id)||void 0===o||o.initialize({client_id:p,callback:e=>{var n;if(!(null==e?void 0:e.credential))return null===(n=w.current)||void 0===n?void 0:n.call(w);let{credential:t,select_by:o}=e;F.current({credential:t,clientId:extractClientId(e),select_by:o})},...m}),null===(h=null===(s=null===(l=null==window?void 0:window.google)||void 0===l?void 0:l.accounts)||void 0===s?void 0:s.id)||void 0===h||h.renderButton(b.current,{type:r,theme:i,size:c,text:d,shape:u,logo_alignment:a,width:g,locale:f,click_listener:v}),t&&(null===(k=null===(C=null===(x=null==window?void 0:window.google)||void 0===x?void 0:x.accounts)||void 0===C?void 0:C.id)||void 0===k||k.prompt(Z.current)),()=>{var e,n,o;t&&(null===(o=null===(n=null===(e=null==window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===n?void 0:n.id)||void 0===o||o.cancel())}},[p,_,t,r,i,c,d,u,a,g,f]),l.createElement("div",{...h,ref:b,style:{height:s[c],...null==h?void 0:h.style}})}var g=t(91669),f=t(54641),v=t(91314),h=t(14418),m=t(9564),b=t(29222),p=t(33838),_=t(295),F=t(41664),w=t.n(F),Z=t(9008),x=t.n(Z);function Fragment_dc90aeae9c329bc93915f98fd278b93c(){let e=(0,l.useContext)(r.M4.state),n=(0,l.useContext)(r.M4.state__state),[t,c]=(0,l.useContext)(r.DR);return(0,o.tZ)(l.Fragment,{children:(0,i.oA)(e.is_hydrated)?(0,o.tZ)(l.Fragment,{children:(0,i.oA)(n.token_is_valid)?(0,o.tZ)(l.Fragment,{children:(0,o.BX)(g.g,{children:[(0,o.BX)(f.U,{sx:{padding:"10px"},children:[(0,o.tZ)(v.q,{name:n.tokeninfo.name,size:"lg",src:n.tokeninfo.picture}),(0,o.BX)(g.g,{alignItems:"flex-start",children:[(0,o.tZ)(h.X,{size:"md",sx:{color:"#F1F2F4",fontFamily:"Poppins-Bold"},children:n.tokeninfo.name}),(0,o.tZ)(m.x,{children:n.tokeninfo.email})]}),(0,o.tZ)(b.z,{onClick:e=>t([(0,i.ju)("state.state.logout",{})],e,{}),sx:{width:"100%",height:"100%",display:"block",padding:"0.5em",borderRadius:"1em",color:"#F1F2F4",backgroundColor:"#220A29",whiteSpace:"normal",_hover:{backgroundColor:"#FF0040","box-shadow":"0 0 1em #FF0040"}},children:"Logout"})]}),(0,o.tZ)(m.x,{children:n.protected_content}),(0,o.tZ)(p.r,{as:w(),href:"/",sx:{textDecoration:"none",_hover:{}},children:"Home"})]})}):(0,o.tZ)(l.Fragment,{children:(0,o.tZ)(g.g,{children:(0,o.tZ)(GoogleLogin,{onSuccess:e=>t([(0,i.ju)("state.state.on_success",{id_token:e})],e,{}),size:"small",text:"signin",theme:"filled_blue"})})})}):(0,o.tZ)(l.Fragment,{children:(0,o.tZ)(_.$,{})})})}function Fragment_1762bb90abdb81b879b2a22edbbe01a1(){let[e,n]=(0,l.useContext)(r.DR);return(0,o.tZ)(l.Fragment,{children:(0,i.oA)(null!==n)?(0,o.tZ)(l.Fragment,{children:(0,o.tZ)(c.Vq.Root,{open:null!==n,children:(0,o.BX)(c.Vq.Content,{children:[(0,o.tZ)(c.Vq.Title,{children:"Connection Error"}),(0,o.BX)(d.x,{as:"p",children:["Cannot connect to server: ",null!==n?n.message:"",". Check if server is reachable at ",(0,i.LH)(u.Ks).href]})]})})}):(0,o.tZ)(l.Fragment,{})})}function Component(){return(0,o.BX)(l.Fragment,{children:[(0,o.tZ)(Fragment_1762bb90abdb81b879b2a22edbbe01a1,{}),(0,o.tZ)(GoogleOAuthProvider,{clientId:"787896941849-lih69jerql51oqgep176fces4vevmkbq.apps.googleusercontent.com",children:(0,o.tZ)(Fragment_dc90aeae9c329bc93915f98fd278b93c,{})}),(0,o.BX)(x(),{children:[(0,o.tZ)("title",{children:"Reflex App"}),(0,o.tZ)("meta",{content:"A Reflex app.",name:"description"}),(0,o.tZ)("meta",{content:"favicon.ico",property:"og:image"})]})]})}}},function(e){e.O(0,[673,609,774,888,179],function(){return e(e.s=84959)}),_N_E=e.O()}]);